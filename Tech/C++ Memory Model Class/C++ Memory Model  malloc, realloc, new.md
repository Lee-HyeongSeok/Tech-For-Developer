## C++ Memory Model : malloc, realloc, new

***

<br>

### :pushpin: malloc(C Language)

- 프로그램 실행 중에 동적으로 메모리를 할당하는 함수

- Heap 영역에 할당

- **void * malloc(size_t size)** 형태

- 성공 시 할당한 메모리의 시작 주소 리턴

- 실패 시 NULL 리턴

- 할당된 메모리는 반드시 해제 -> 메모리 릭(누수) 발생 가능

- 메모리 공간의 요소들을 자동으로 초기화 하지 않는다(쓰레기 값을 가진 메모리 주소 반환)

  - 특정 값으로 초기화를 원한다면 -> **calloc** 함수 사용

- 연속된 메모리를 가진 자료형에 대해서만 크기를 할당

  > **ex) char, int, float, double, 배열 등**

<br>

### :pushpin: new(C++ Language)

- 프로그램 실행 중에 동적으로 메모리를 할당하는 함수

- 내부적으로 malloc을 사용

- **new를 사용하는 이유**

  > **new 연산자는 POD 타입이 아닌 자료형을 동적 할당하기 위해 만들어짐**
  >
  > **POD(Plan Old Data structure)란? 오브젝트가 아닌, 레코드를 의미하는 말**

  1. C에서는 구조체 내부에 함수 선언 불가
  2. 함수를 가진 구조체는 POD 아니다. 즉, malloc으로 동적 할당이 불가능
  3. C++은 구조체 내부에 함수 선언이 가능하다(클래스 개념)
  4. 이러한 구조체 내부에 함수를 선언한 오브젝트를 동적 할당하기 위해 new 연산자를 따로 구현하였다.

