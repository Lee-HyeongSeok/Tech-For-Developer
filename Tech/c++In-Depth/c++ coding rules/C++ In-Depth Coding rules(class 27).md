## C++ In-Depth Coding rules(class 27)

***

<br>

### :pushpin: 오버로딩된 연산자의 본래 의미를 유지하라.

- 연산자의 오버로딩은 적절한 이유가 있을 때에만 실행하고, 본래의 의미는 유지하라.
- 만약 본래의 의미를 유지하기 힘들다면 연산자 오버로딩이 잘못된 것이다.



예를 들어, Tensor 클래스의 ```operator*``` 연산자는 스칼라 곱을 의미하는 것일까 아니면 벡터 곱을 의미하는 것일까?

```operator+=(Tensor& t, unsigned u)```라고 정의했다면 t의 각 요소에 u를 더한다는 것인지 크기를 변경한다는 것인지 알기 힘들다.

:point_right: 이러한 경우는 차라리 함수를 사용하는 것이 더 낫다.

즉, 개발자가 만들어놓은 방식이 다른 사람이 쉽게 이해할  수 없는 방식이라면 연산자 오버로딩을 사용하지 않는 것이 차라리 낫다. 함수의 경우는 이러한 의미적 관계가 적으므로 약간의 의심이라도 있다면 보다 깔끔한 코드를 위해 함수를 사용하는 것이 좋다.

<br>

### :pushpin: 예외적인 상황

- C++에서 일반적으로 사용하는 방식과는 완전히 구별되는 약정을 사용하는 아주 특별한 형태의 연산자들이 라이브러리에서 정의되는 경우가 있다(Parser 생성기, 정규식 엔진 등). 
- 이러한 연산자를 사용할 경우는 다른 기본 연산자와의 충돌이 생기지 않게끔 주의하면서 적절한 경계를 그어 두는 것이 좋다.