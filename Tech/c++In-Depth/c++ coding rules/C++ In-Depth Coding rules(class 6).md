## C++ In-Depth Coding rules(class 6)

***

<br>

### :pushpin: 하나의 엔티티에는 하나의 역할만을 부여하자

- 각 **엔티티(변수, 클래스, 함수, 네임스페이스, 모듈, 라이브러리)**에는 잘 정의된 하나의 역할만을 부여하라
- 지정된 진로를 벗어나서는 안 된다.
- 좋은 엔티티는 하나의 목적만을 가진다(간략히 하나의 목적만을 가진 엔티티)
- **저수준의 추상화 단계**로부터 **고수준의 추상화**로 빌드하는 것이 좋다.
  - 여러 저수준 추상 엔티티를 모아 큰 저수준 엔티티로 만드는 것은 피해야 한다.
  - 복잡한 엔티티는 간결하고 작은 여러 개로 나누어 사용하는 것이 편리

<br>

### :pushpin: 특별한 이유 없이 덩치가 커진 엔티티?

- 재사용이 어렵다.
- 안정적이지 못한 인터페이스를 가지기 쉽다.
- 여러 목적 간의 경계가 불분명해지면 관리 또한 힘들어진다.
- **완전히 다른 두 가지 이상 역할을 하는 엔티티**는 일반적으로 디자인은 물론 구현 자체가 힘들어지며 복잡해진다.

<br>

### :pushpin: 잘못된 엔티티 상징

1. realloc(표준 C)
   - 할 일이 많기 때문에 잘못된 디자인의 상징과 같은 존재이다.
   - NULL이 전달되면 메모리를 할당, 크기가 0일 경우 해제, 올바른 위치에 재할당 및 이동시키는 등의 일을 모두 처리하기 때문
   - 확장과 관리 모두 쉽지 않다.
2. basic_string(표준 C++)
   - 비효율적인 클래스 디자인의 대표주자
   - 너무 많은 기능이 추가되어 클래스가 쓸데없이 커졌다.
   - 반복과 인덱싱 사이의 결정이 애매하다.
   - 불필요한 중복이 발생하는 등의 이유