## C++ In-Depth Coding rules(class 11)

***

<br>

### :pushpin: 전역 데이터와 공유 데이터를 최소화하라

- 공유 데이터(전역 데이터)는 분쟁을 일으킨다.
- 공유 데이터는 커플링(결합도)을 증가시키고, 관리가 힘들어지며 성능도 떨어진다.

<br>

### :pushpin: 네임스페이스 범위 또는 정적 클래스 멤버의 외부적인 연결 상태를 가진 데이터를 피하라

- 이런 복잡한 프로그램 로직은 프로그램의 서로 다른 부분 사이의 연결을 강화시킨다.
- 공유 데이터(전역 데이터)는 각 코드 조각의 정확도를 떨어뜨린다.
  - 단위 테스트를 어렵게 만든다.
  - 데이터의 변화에 따라 다른 부분에 영향을 준다(안정성 또한 좋지 못하다)
- 전역 네임스페이스 내의 개체 이름은 전역 네임스페이스 자체에도 안 좋은 영향을 미친다.
- 전역, 네임스페이스 범위, 정적 클래스 개체가 필요한 경우에는 각 개체의 초기화를 신중히 수행해야 한다.
  - 개체의 초기화 순서를 컴파일 단위에 따라 달라질 수 있다.
  - 올바른 처리를 위해서는 특별한 기술이 필요하다.
  - 초기화 순서의 법칙은 미묘한 것이므로 가능한 피하는 것이 좋지만, 필요하다면 정확히 알고 신중히 사용해야 한다.
- 네임스페이스 범위, 정적 멤버, 스레드와 프로세스 간에 공유된 개체는 멀티스레드와 멀티 프로세서 환경이 가지는 평행성을 해치고, 성능과 확장성 부분의 병목 현상을 종종 일으킨다.
  - 가능한 아무 것도 공유하지 않도록 한다.
  - 공유가 필요하다면 공유하는 부분의 커뮤니케이션(메시지 큐 등)에 신경 써야 한다.
- 클래스 간에는 낮은 결합도와 최소화된 상호작용을 유지하는 것이 좋다.

<br>

### :pushpin: 예외

- 프로그램 범위의 cin, cout, cerr는 특별한 경우
  - 주어진 타입을 만들기 위해 어떤 함수 호출이 필요한지 관리해야 한다.
  - 전체 프로그램에 대해 하나의 레지스트리만이 있는 경우가 일반적이므로 주의해야 한다.
- 스레드 사이에서 개체를 공유하는 코드는 개체로의 모든 접근을 일련화하는 것이 좋다.