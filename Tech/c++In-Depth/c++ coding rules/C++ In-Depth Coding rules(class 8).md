## C++ In-Depth Coding rules(class 8)

***

<br>

### :pushpin: 적절한 규모 유지를 위해서는 'When', 'How'를 아는 것이 중요하다.

- 폭발적인 데이터 증가를 주의
- 너무 이른 최적화는 피하되, 복잡함의 정도를 분명히 지켜봐야 한다.
- **데이터 제어 알고리즘**
  - 예측이 가능해야 한다.
  - 선형보다 나쁘지 않아야 한다.
  - 데이터 처리 시간이 적절한 것을 선택해야 한다.
- 최적화가 필요한 시점이 되면 작은 추가 부분을 줄이는 미세한 최적화보다는 전체적인 그림의 복잡성을 줄이는 데 노력해야 한다.

<br>

### :pushpin: C++ 표준 라이브러리가 널리 사용되는 이유

- 연간 디스크 용량 증가는 지속해서 높아지고 있다.
- 현재 개발한 코드가 이후에도 사용된다면 보다 많은 데이터를 처리하게 될 것
- 잘못된 알고리즘은 그 증가량을 버티지 못함
- 따라서 현재보다 많은 파일, 보다 큰 데이터베이스, 더 많은 픽셀과 창, 처리량, 전송량을 처리할 수 있게 개발해야 한다.
- 이러한 이유는 C++ 표준 라이브러리가 널리 사용되는 이유와 직결된다.

<br>

### :pushpin: 적당한 밸런스란?

- big-Oh 복잡성
- 주어진 데이터 요소의 수에 대한 처리 시간의 효율을 항상 적정한 수준으로 유지하는 것이 중요
- **명심할 부분**
  1. 데이터의 크기가 처리에 문제 생길 정도로 늘어날 것을 확신하지 않는 이상 그에 따른 알고리즘을 사용하지 않는 것
  2. 규모가 작은 알고리즘을 사용함으로서 얻을 수 있는 이익(명확성, 간결성)이 없다고 판단될 때는 그 크기를 늘리는 데 주저하지 않는 것
  3. 방대한 데이터 세트를 다룰 일이 없을 것이라고 생각하고 열 개의 코드를 작성했다면 그 중 아홉개는 정확히 맞아떨어질 것이지만, 문제는 예상을 빗나간 하나의 코드로, 수정을 거치고 다시 고객에게 보내도 되겠지만 그러한 재작업은 가능한 피하는 것이 좋다.
  4. 최적화가 필요한 것으로 판단되거나 데이터의 증가 때문에 추가 작업을 덜어내는 등의 세부적인 최적화보다는 전체 복잡성을 향상시키는 데 노력해야 한다.
- **정리**
  - 가능한 선형 또는 보다 나은 알고리즘을 사용
  - 분명한 이유가 없다면 다항 알고리즘은 회피
  - 무슨 수를 써서든 지수 알고리즘은 회피

<br>

### :pushpin: 적당한 밸런스를 위한 코딩 규칙

1. **고정된 크기의 배열보다는 유연하고 동적인 데이터 할당을 사용**
   - 예상 최고치보다 훨씬 많은 숫자의 배열은 정확성을 크게 해치는 것이며 대가가 큰 보험이다.
   - 배열의 크기는 컴파일 시에 고정되는 것이 가장 적당하다.
2. **알고리즘의 실제 복잡성을 알고 있어야 한다.**
   - 선형 알고리즘처럼 보이지만 **다른 선형 작업을 호출하는** 함정을 조심해야 한다.
3. **선형 알고리즘이나 가장 빠른 알고리즘을 사용하라**
   - 시간이 일정한 복잡성, 예를 들어 **push_back**과 **해시 테이블** 조화와 같은 알고리즘은 완벽한 경우
   - **set/map** 작업과 랜덤 액세스 반복자를 가진 **lower_bound**나 **upper_bound**와 같이 **O(log N)** 복잡성의 경우 좋은 경우
   - **vector::insert**와 **for_each**와 같은 **O(N)** 선형 복잡성은 쓸 만한 수준
4. **선형 알고리즘보다 나쁜 알고리즘은 사용을 피하라**
   - **O(N log N)**이나 **O(N^2)** 알고리즘이라면 데이터 규모가 커짐에 따라 코드의 성능 또한 급격히 하락하므로 다른 알고리즘을 찾아보는 것이 좋다.
   - 각 요소에 대한 반복된 호출이 있을 때 범위 멤버 함수를 사용
5. **다른 방법이 없을 때가 아니면 지수 알고리즘은 피하라**
   - **복잡성이 지수로 표현되는 알고리즘**은 데이터가 조금만 증가해도 필요한 처리량이 엄청나게 증가한다.
   - 소수의 데이터만을 다루는 경우라면 몰라도 이런 알고리즘은 사용하지 않는 것이 좋다.

<br>

***

### :round_pushpin: 출처

[[1]깃허브 io](https://yhwanp.github.io/2019/09/08/rvalue-and-move/)