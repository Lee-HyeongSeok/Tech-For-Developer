## C++ In-Depth Coding rules(class 33)

***

<br>

### :pushpin: 클래스 디자인과 상속성

소프트웨어 개발에 있어 가장 중요한 한 가지 요소는 개발자가 만들고 있는 것이 무엇인지를 분명하게 알아야 한다.

- 상속성 : C++에서 표현할 수 있는 두 번째로 강한 의존 관계
- 이러한 점을 냉정하고 정확하게 사용해야 한다.

<br>

### :pushpin: 만들고 있는 클래스가 무엇인지 확실히 하라

클래스는 종류에 따라 그 쓰임이 다르며, 적용되는 규칙 또한 다르다.

- 값 클래스(std::pair, std::vector)의 특징
  - 값을 중심으로 한 공용 디스트럭터, 복사 컨스트럭터, 할당이 존재한다.
  - 가상 함수가 없다(디스트럭터 포함)
  - 기반 클래스가 아닌 구체적인 클래스로 사용된다.
  - 다른 클래스의 직접적인 멤버로서 또는 스택 내에서 인스턴스가 만들어진다.
- 기반 클래스의 특징(클래스 계층을 이루는 단위)
  - 공용(public)이면서 가상(virtual)이거나 보호된(protected)이면서 가상이 아닌 디스트럭터, 비공용 컨스트럭터, 할당 연산자 등이 있다.
  - 가상 함수를 통해 인터페이스를 구성한다.
  - 인스턴스는 힙에서 동적으로 만들어지거나 스마트 포인터를 통해 만들어진다.
- 특성 클래스의 특징(타입에 대한 정보를 담는 임시 클래스)
  - typedef와 정적 함수만을 포함, 상태 변경 불가
  - 인스턴스가 만들어지지 않는다(컨스트럭터를 사용하지 않는 것이 일반적임).
- 정책 클래스의 특징(일반적으로 템플릿을 말함, 추가 및 제거가 가능한 기능의 일부)
  - 상태나 가상 함수가 있을 수도 없을 수도 있다.
  - 독립적으로 인스턴스가 만들어지지 않으며, 기반이나 멤버로만 만들어진다.
- 예외 클래스의 특징(일반적이지 않은 형태, 값과 참조에 있어 예외적인 조합이 사용된다)
  - 예외 발생은 값에 의한 것이지만 감지는 참조에 의해 이루어진다.
  - 공용 디스트럭터와 실패가 없는 컨스트럭터(복사 컨스트럭터 등)가 있다.
  - 가상 함수가 있으며, 복제 등의 작업을 주로 한다.
  - std::exception으로부터 얻어지는 경우가 많다.

이 외에도 특정한 기능(RAII와 같은) 지원을 위한 보조 클래스가 있다.