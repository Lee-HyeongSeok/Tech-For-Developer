## C++ In-Depth Coding rules(class 38)

***

<br>

### :pushpin: 상속의 정확한 의미를 이해하자. 재사용을 위해 상속하는 것은 아니지만, 재사용은 필요하다.

- 공용 상속성
  - 기본 클래스로의 포인터나 참조를 통해 기본 클래스로부터 얻어진 파생 클래스를 참조할 수 있는 기술
  - 기존의 코드를 변경하지 않고 코드의 정확성을 파괴하지 않는 특징을 가짐
- 코드의 재사용을 위해서 상속하는 것이 아니다.
  - 기본 객체를 다형적으로 이미 사용하고 있는 기존의 코드에서 재사용되기 위해서 상속 구조를 만드는 것이다.

<br>



### :pushpin: 공용 상속

- 항상 is-a(~와 비슷하게 작동하는) 방식으로 리스코브 대체 법칙에 따라 모델링되어야 한다.
- 상속성의 is-a 방식은 흔히 사용되는 잘못된 분석 방법으로 생각하면 오해의 소지가 있다. 그래서 works-like-a 방식으로 상속을 이해하는 것이 좋다.
- 가상 멤버 함수의 오버라이드 역시 기본 버전이 내세운 규칙을 지키는 수준에서 이루어져야 한다.
- 기본 클래스로의 포인터나 참조를 사용하는 코드는 그 포인터나 참조가 실제로는 파생 클래스로의 것이라고 해도 기본 클래스에 맞게 적절히 쓰여져야 한다.
- 공용 상속의 목적은 대체성을 구현하기 위한 것이지, 기본 클래스로부터 얻어진 파생 클래스에서 기본 클래스의 코드를 재사용하기 위한 것은 아니다.
- ~을 중심으로 구현된 관계에는 상속보다는 적절한 연결을 통한 합성이 적절하며, 특별한 경우에는 비공용 상속을 사용하는 것이 낫다.
- 다형성이 적절하고 정확한 선택인 경우에는 합성보다는 상속이 나을 것이다.

<br>



### :pushpin: 상속성의 잘못된 사용은 코드의 정확성을 떨어뜨린다.

- 잘못 구현된 상속은 기본 클래스가 만들어놓은 규칙을 직간접적으로 따르지 않는 방향으로 나아가게 되고, 이러한 규칙은 코드 내에 직접적으로 드러나지 않기 때문에 개발자가 주의해야 한다.

<br>

### :pushpin: 예외

정책 클래스의 경우는 공용 상속 방식을 통해 기능을 추가하기는 하지만, 잘못된 사용은 아니다.