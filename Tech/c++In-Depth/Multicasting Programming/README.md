## Multicast chat server&client

***

<br>

### :pushpin: 멀티캐스팅 서버&클라이언트 요구사항

- 처음 서버와 다중 클라이언트는 TCP 연결을 맺는다.
- 각 클라이언트는 n개의 채팅방을 선택 가능하다.
- 각 클라이언트는 TCP 메시지를 송신하고 UDP 멀티캐스팅 패킷을 수신 받는다.
- 서버는 하나의 클라이언트로부터 수신 받은 메시지를 멀티캐스팅으로 송신한다.
  - 이때 서버는 해당 클라이언트가 속한 채팅방에 멀티캐스팅 한다.

<br>

### :pushpin: 프로젝트 빌드 파일 생성 및 빌드 방법

해당 프로젝트는 cmake를 사용하여 빌드 파일을 생성하고, ninja를 사용하여 빌드한다.

경우에 따라 make를 사용하여도 무관하다.

```mkdir build``` 명령을 수행하여 Multicasting Programming 디렉토리 안에 하위 디렉토리를 생성한다.

사용자는 빌드 디렉토리 위치로 이동하여 현재 위치가 ```~/Multicasting programming/build``` 이라고 가정할 때 

```cmake .. -G Ninja``` 명령어를 수행하여 빌드 파일을 생성한다.

이후 ```ninja``` 명령어를 수행하여 빌드를 수행한다.



<br>

### :pushpin: 서버 & 클라이언트 실행 파일

```~/Multicasting programming/build/bin``` 디렉토리에 ```server```와 ```client``` 실행 파일이 존재.

특별한 인자 없이 실행하면 된다.



<br>

### :pushpin: 인터페이스 주소, 멀티캐스트 그룹 주소, 포트

- TCP 연결에는 localhost 주소와 30000번 포트를 사용한다.

- UDP 멀티캐스팅에는 226.1.1.1 주소와 1번 채팅방 포트인 4321, 2번 채팅방 포트인 4322를 사용한다.

  - 1번 채팅방을 선택한 클라이언트에게는 4321 포트를 배정한다.

  - 2번 채팅방을 선택한 클라이언트에게는 4322 포트를 배정한다.

    >  :point_right: 이때 같은 포트를 사용하지만, 다른 멀티캐스팅 주소를 사용한다면, 같은 포트를 사용하기 때문에 멀티캐스팅이 제대로 동작하지 않는다.

- 멀티캐스팅 주소와 포트를 확인하고자 한다면 ```netstat -gn``` 명령어로 알아본다.

  - 네트워크 인터페이스마다 할당된 멀티캐스팅 주소 확인 가능
  - 각 멀티캐스팅 주소를 참조하고 있는 네트워크 인터페이스의 수 확인 가능(해당 그룹에 가입된 클라이언트 숫자)  